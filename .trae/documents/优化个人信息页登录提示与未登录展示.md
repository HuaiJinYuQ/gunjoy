## 目标

* 将登录提示改为底部弹窗样式，位置固定在页面最下方。

* 在未登录状态下，顶部资料卡显示默认头像与昵称“未登录”。

## 页面结构调整（WXML）

* 更新 `miniprogram/pages/profile/profile.wxml`：

  * 顶部资料卡改为始终展示（不再依赖 `isLoggedIn`），字段按以下优先级显示：

    * 头像：*`dbUser.avatarUrl || userInfo.avatarUrl || '../../images/head.png'`*

    * *昵称：`dbUser.nickname || userInfo.nickName || '未登录'`*

    * *年龄、星座、地区：未登录*时显示占位（如“年龄未设置”、“星座未设置”、“”），已登录正常显示。

  * 底部新增 `login-bottom-sheet` 容器：`wx:if="{{!isLoggedIn}}"`，包含提示文案与按钮：

    * 文案：`登录后可同步你的收藏与发帖`

    * 按钮：`bindtap="onLoginClick"` 文案“微信身份登录”。

  * 保持中部网格与菜单区域在未登录时可隐藏或弱化（可根据当前需求设置 `wx:if="{{isLoggedIn}}"`）。

## 样式设计（WXSS）

* 更新 `miniprogram/pages/profile/profile.wxss`：

  * 为 `login-bottom-sheet` 添加固定底部样式：

    * `position: fixed; left: 0; right: 0; bottom: 0;`

    * 圆角（如 `border-radius: 16rpx 16rpx 0 0`）与阴影提升层次

    * 内边距包含安全区：`padding-bottom: env(safe-area-inset-bottom)`

    * 按钮全宽或居中，颜色统一使用主题色（现有 `#FF6B35`）

  * 为顶部资料卡在未登录状态统一配色（如灰度文案）

## 交互与逻辑（TS）

* 更新 `miniprogram/pages/profile/profile.ts`：

  * 移除 `onLoad` 中自动弹窗授权逻辑（之前的 `wx.showModal`），改由底部弹窗按钮触发。

  * 保留并复用现有的 `onLoginClick` 登录流程（`wx.login` → 调用云函数 `userLogin` → 保存 `openid/unionid`），不使用 `wx.getUserProfile`。

  * 在 `data` 默认值中保证未登录时能回退到默认头像与“未登录”昵称的显示逻辑。

  * 读取缓存时若未登录则不导航，仅刷新顶部卡片与底部弹窗显示。

## 验证

* 未登录打开页面：

  * 顶部显示默认头像与“未登录”昵称；底部弹窗出现。

* 点击“微信身份登录”：

  * 完成登录后，底部弹窗消失，顶部卡片显示用户资料。

* 刷新和二次进入：

  * 读取缓存快速展示头像与昵称；底部弹窗不再显示。

## 说明

* 不改变已有云函数与身份逻辑，保持 `openid/unionid` 获取与存储策略。

* 样式与结构改动遵循现有项目主题与组件用法，可在后续继续替换网格图标为品牌素材。

